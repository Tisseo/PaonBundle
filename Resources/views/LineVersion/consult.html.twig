{% extends "::modal.html.twig" %}

{% import "TisseoDatawarehouseBundle::macros.html.twig" as render %}

{% block modal_title %}
    {{ title|trans({}, 'default') }}
{% endblock %}

{% block modal_body %}
    <h3>{{ 'global.summary'|trans({}, 'messages') }}</h3>
    <div class="form form-consult">
        <div class="left-summary">
            <ul>
                <li>{{ 'line_version.labels.version'|trans({}, 'messages') }} {{ lineVersion.version }}</li>
                <li>{{ 'line_version.labels.start_date'|trans({}, 'messages') }} : {{ lineVersion.startDate|date('d/m/Y') }}</li>
                <li>{{ 'line_version.labels.planned_end_date'|trans({}, 'messages') }} : {{ lineVersion.plannedEndDate|date('d/m/Y') }}</li>
                {% if history %}
                <li class="bold">{{ 'line_version.labels.end_date'|trans({}, 'messages') }} : {{ lineVersion.endDate|date('d/m/Y') }}</li>
                {% endif %}
                <li>{{ 'line_version.labels.child_line'|trans({}, 'messages') }} : {% if lineVersion.childLineId != null %}{{ lineVersion.childLineId }}{% else %}Aucune{% endif %}</li>
            </ul>   
        </div>
        <div class="right-summary">
            {{ render.line_number(lineVersion, 'lineVersion', 'big') }}
        </div>
    </div>
    <h3>{{ 'global.properties'|trans({}, 'messages') }}</h3>
    <div class="form form-consult">
        <ul>
            <li>{{ 'line_version.labels.name'|trans({}, 'messages') }} : {{ lineVersion.name }}</li>
            <li>{{ 'line_version.labels.forward'|trans({}, 'messages') }} : {{ lineVersion.forwardDirection }}</li>
            <li>{{ 'line_version.labels.backward'|trans({}, 'messages') }} : {{ lineVersion.backwardDirection }}</li>
            <br>
            <li>{{ 'line_version.labels.bg_color'|trans({}, 'messages') }} : {{ lineVersion.bgColor }}</li>
            <li>{{ 'line_version.labels.bg_hexa_color'|trans({}, 'messages') }} : #{{ lineVersion.bgHexaColor }}</li>
            <li>{{ 'line_version.labels.fg_color'|trans({}, 'messages') }} : {{ lineVersion.fgColor }}</li>
            <li>{{ 'line_version.labels.fg_hexa_color'|trans({}, 'messages') }} : #{{ lineVersion.fgHexaColor }}</li>
            <br>
            <li>{{ 'line_version.labels.accessibility'|trans({}, 'messages') }} : <input type="checkbox" onclick="return false;" {% if lineVersion.accessibility %}checked{% endif %}></li>
            <li>{{ 'line_version.labels.air_conditioned'|trans({}, 'messages') }} : <input type="checkbox" onclick="return false;" {% if lineVersion.airContioned %}checked{% endif %}></li>
            <li>{{ 'line_version.labels.certified'|trans({}, 'messages') }} : <input type="checkbox" onclick="return false;" {% if lineVersion.certified %}checked{% endif %}></li>
            <br>
            <li>{{ 'line_version.labels.depot'|trans({}, 'messages') }} : {{ lineVersion.depot|capitalize }}</li>
            <li>{{ 'line_version.labels.carto_file'|trans({}, 'messages') }} : {{ lineVersion.cartoFile }}</li>
            <li>{{ 'line_version.labels.comment'|trans({}, 'messages') }} : {{ lineVersion.comment }}</li>
        </ul>
    </div>
    {% if history %}
    <h3>{{ 'global.printings'|trans({}, 'messages') }}</h3>
    <div class="form form-consult">
        {% if lineVersion.printings is empty %}
        <span class="message">{{ 'line_version.no_printings'|trans({}, 'default') }}</span>
        {% else %}
            {% for printing in lineVersion.printings %}
        <ul>
            <li>{{ 'printing.labels.quantity'|trans({}, 'messages') }} : {{ printing.quantity }}</li>
            <li>{{ 'printing.labels.date'|trans({}, 'messages') }} : {{ printing.date|date('d/m/Y') }}</li>
            <li>{{ 'printing.labels.comment'|trans({}, 'messages') }} : {{ printing.comment }}</li>
        </ul>
            {% endfor %}
        {% endif %}
    </div>
    {% endif %}
{% endblock %}
{% block modal_close_footer %}
    <script>
        require(['textfill'], function(){
            textfill(15, 30, '.line-big');
        });
    </script>
{% endblock %}
